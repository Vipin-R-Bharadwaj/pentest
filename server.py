from subprocess import Popen, call, PIPE
import sys

from pentest import pentest

# 2- virtualenv env
# 3- source env/bin/active

# call('/Applications/ZAP.app/Contents/Java/zap.sh -daemon -host 127.0.0.1 -port 8080 -config api.key=jlfion5b8cmep7gsjesmpvgpqj', shell=True)

if __name__ == "__main__":
    if len(sys.argv) < 3:
        print("Usage: python pentest.py <path_to_file_of_endpoints> <tools>")
        sys.exit(1)

    file_path = sys.argv[1]
    tools = sys.argv[2:]  # List of tools from the command line

    pentest(file_path, tools)
